<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Ingresar — Level‑Up Gamer</title>
    <link
      href="https://fonts.googleapis.com/css2?family=Orbitron:wght@600;700&family=Roboto:wght@300;400;500;700&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="assets/css/styles.css" />
  </head>
  <body>
    <div id="app-header"></div>
    <main class="container py-5 fade-in">
      <h1 class="section-title">Ingresar</h1>
      <form
        class="lug-form bg-dark p-4 rounded-3 shadow mx-auto"
        style="max-width: 500px"
        id="formLogin"
        novalidate
      >
        <div class="mb-3">
          <label class="form-label">Correo</label>
          <input
            type="email"
            class="form-control"
            id="loginCorreo"
            maxlength="100"
            required
          />
        </div>
        <div class="mb-3">
          <label class="form-label">Contraseña</label>
          <input
            type="password"
            class="form-control"
            id="loginPass"
            minlength="4"
            maxlength="10"
            required
          />
        </div>
        <div class="d-flex gap-2 mt-3">
          <button class="btn btn-accent flex-fill" type="submit">Entrar</button>
          <a class="btn btn-outline-accent flex-fill" href="registro.html"
            >¿No tienes cuenta? Regístrate</a
          >
        </div>
      </form>
      <div class="mt-4">
        <div class="alert alert-info small">
          <strong>Usuarios de prueba:</strong><br />
          <ul class="mb-0">
            <li>
              <b>Admin:</b> admin@duoc.cl /
              <span class="text-monospace">admin123</span>
            </li>
            <li>
              <b>Vendedor:</b> vendedor@gmail.com /
              <span class="text-monospace">vendedor123</span>
            </li>
            <li>
              <b>Cliente:</b> cliente@gmail.com /
              <span class="text-monospace">cliente123</span>
            </li>
          </ul>
          <button id="resetUsersBtn" class="btn btn-sm btn-outline-danger mt-2">
            Restablecer usuarios de prueba
          </button>
          <span id="resetUsersMsg" class="ms-2 text-success"></span>
        </div>
      </div>
    </main>
    <div id="app-footer"></div>
    <script>
      document
        .getElementById("resetUsersBtn")
        ?.addEventListener("click", function () {
          localStorage.removeItem("lug_users");
          // Regenerar usuarios predefinidos
          const defaultUsers = {
            "admin@duoc.cl": { pass: "admin123", role: "admin" },
            "vendedor@gmail.com": { pass: "vendedor123", role: "vendedor" },
            "cliente@gmail.com": { pass: "cliente123", role: "cliente" },
          };
          localStorage.setItem("lug_users", JSON.stringify(defaultUsers));
          document.getElementById("resetUsersMsg").textContent =
            "Usuarios restablecidos";
          setTimeout(() => {
            document.getElementById("resetUsersMsg").textContent = "";
          }, 2000);
        });
    </script>
    <aside class="cart-floating" id="cartFloating">
      <div
        class="cart-header d-flex justify-content-between align-items-center"
      >
        <h2 class="h6 m-0">Carrito</h2>
        <button class="btn btn-sm btn-outline-accent" id="btnClearCart">
          Vaciar
        </button>
      </div>
      <div class="cart-body" id="cartItems"></div>
      <div
        class="cart-footer d-flex justify-content-between align-items-center"
      >
        <strong>Total:</strong>
        <span id="cartTotal">$0</span>
      </div>
    </aside>
    <script src="assets/js/vendor/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="assets/js/app/ui.js"></script>
    <script src="assets/js/app/partials-loader.js"></script>
    <script src="assets/js/app/validators/auth-validator.js"></script>
    <script src="assets/js/app/auth.js"></script>
    <script src="assets/js/app/carrito.js"></script>
  </body>
</html>
